(this["webpackJsonpreact-chat-application"]=this["webpackJsonpreact-chat-application"]||[]).push([[0],{75:function(e,t,s){},76:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){},93:function(e,t,s){},94:function(e,t,s){},95:function(e,t,s){},96:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),n=s(16),r=s.n(n),i=(s(75),s(11)),o=(s(76),s.p+"static/media/welcome_cats.b554d818.svg"),l=s.p+"static/media/unlock.3896558a.svg",d=s(18),u=s(26),j=s(130),h=s(131),b=s(129),p=s(47),m=(s(60),s(81),p.a.initializeApp({apiKey:"AIzaSyB4SxFXnKaLyU7HNiV6F_P86IIEJqeDAXs",authDomain:"react-chat-app-1e139.firebaseapp.com",projectId:"react-chat-app-1e139",storageBucket:"react-chat-app-1e139.appspot.com",messagingSenderId:"541586613788",appId:"1:541586613788:web:ddcd26e4cdbd04d2e8e1d9"}),p.a.auth()),O=p.a.firestore(),g=s(3);var x=Object(b.a)({textField:{marginTop:"20px"},button:{marginTop:"20px"}}),f=function(){var e=Object(d.f)(),t=x(),s=Object(c.useState)(""),a=Object(i.a)(s,2),n=a[0],r=a[1],b=Object(c.useState)(""),p=Object(i.a)(b,2),O=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),y=N[0],U=N[1],S=Object(c.useState)(!1),C=Object(i.a)(S,2),F=C[0],L=C[1],w=Object(c.useState)(""),B=Object(i.a)(w,2),k=B[0],H=B[1],I=Object(c.useState)(""),T=Object(i.a)(I,2),P=T[0],E=T[1];return Object(g.jsxs)("div",{className:"logInPageContainer",children:[Object(g.jsx)("div",{className:"backArrow",children:Object(g.jsx)(u.b,{to:"/",className:"link",children:Object(g.jsx)("i",{style:{fontSize:"30px",color:"crimson"},className:"fas fa-arrow-circle-left"})})}),Object(g.jsxs)("div",{className:"logInPageHero",children:[Object(g.jsx)("img",{src:l,alt:"signin"}),Object(g.jsxs)("div",{className:"signInForm",children:[Object(g.jsx)("img",{src:o,alt:"signinLogo"}),Object(g.jsx)(j.a,{label:"Email",type:"email",className:t.textField,value:n,autoFocus:!0,onChange:function(e){return r(e.target.value)},error:y,helperText:k}),Object(g.jsx)(j.a,{label:"password",type:"password",value:O,onChange:function(e){return f(e.target.value)},className:t.textField,error:F,helperText:P}),Object(g.jsx)(h.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){H(""),L(!1),U(!1),E(""),m.signInWithEmailAndPassword(n,O).then((function(t){e.push("/home")})).catch((function(e){console.log("err is ",e.code),"auth/user-not-found"===e.code&&(U(!0),H("email not found")),"auth/wrong-password"===e.code&&(L(!0),E("password is invalid")),"auth/invalid-email"===e.code&&(U(!0),H("email format is bad"))}))},children:"Login"}),Object(g.jsxs)("p",{children:["If U don't Have Acc?"," ",Object(g.jsx)(u.b,{to:"/signup",className:"link",children:"Sign Up"})]})]})]})]})};var v=function(e){var t=e.height,s=void 0===t?"30px":t,c=e.width,a=void 0===c?"30px":c,n=e.color,r=void 0===n?"lightBlue":n;return Object(g.jsx)("div",{children:Object(g.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 115.98 122.88",height:s,width:a,children:Object(g.jsx)("g",{children:Object(g.jsx)("path",{fill:r,d:"M17.2,0h59.47c4.73,0,9.03,1.93,12.15,5.05c3.12,3.12,5.05,7.42,5.05,12.15v38.36c0,4.73-1.93,9.03-5.05,12.15 c-3.12,3.12-7.42,5.05-12.15,5.05H46.93L20.81,95.21c-1.21,1.04-3.04,0.9-4.08-0.32c-0.51-0.6-0.74-1.34-0.69-2.07l1.39-20.07H17.2 c-4.73,0-9.03-1.93-12.15-5.05C1.93,64.59,0,60.29,0,55.56V17.2c0-4.73,1.93-9.03,5.05-12.15C8.16,1.93,12.46,0,17.2,0L17.2,0z M102.31,27.98c3.37,0.65,6.39,2.31,8.73,4.65c3.05,3.05,4.95,7.26,4.95,11.9v38.36c0,4.64-1.89,8.85-4.95,11.9 c-3.05,3.05-7.26,4.95-11.9,4.95h-0.61l1.42,20.44l0,0c0.04,0.64-0.15,1.3-0.6,1.82c-0.91,1.07-2.52,1.19-3.58,0.28l-26.22-23.2 H35.01l17.01-17.3h36.04c7.86,0,14.3-6.43,14.3-14.3V29.11C102.35,28.73,102.34,28.35,102.31,27.98L102.31,27.98z M25.68,43.68 c-1.6,0-2.9-1.3-2.9-2.9c0-1.6,1.3-2.9,2.9-2.9h30.35c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9H25.68L25.68,43.68z M25.68,29.32c-1.6,0-2.9-1.3-2.9-2.9c0-1.6,1.3-2.9,2.9-2.9H68.7c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9H25.68L25.68,29.32z M76.66,5.8H17.2c-3.13,0-5.98,1.28-8.05,3.35C7.08,11.22,5.8,14.06,5.8,17.2v38.36c0,3.13,1.28,5.98,3.35,8.05 c2.07,2.07,4.92,3.35,8.05,3.35h3.34v0.01l0.19,0.01c1.59,0.11,2.8,1.49,2.69,3.08l-1.13,16.26L43.83,67.8 c0.52-0.52,1.24-0.84,2.04-0.84h30.79c3.13,0,5.98-1.28,8.05-3.35c2.07-2.07,3.35-4.92,3.35-8.05V17.2c0-3.13-1.28-5.98-3.35-8.05 C82.65,7.08,79.8,5.8,76.66,5.8L76.66,5.8z"})})})})},N=(s(87),s.p+"static/media/chatHome.023cd395.svg");var y=function(){var e=Object(d.f)();return Object(c.useLayoutEffect)((function(){var t=m.onAuthStateChanged((function(s){return s&&e.push("/home"),t}))}),[]),Object(g.jsxs)("div",{className:"openPageHero",children:[Object(g.jsxs)("div",{className:"openPageNav",children:[Object(g.jsxs)("div",{className:"logo",children:[Object(g.jsx)(v,{}),Object(g.jsx)("div",{children:Object(g.jsx)("h2",{className:"logoName",children:"Chit Chat"})})]}),Object(g.jsx)("div",{className:"openPageSignInButton",children:Object(g.jsx)(h.a,{variant:"outlined",color:"secondary",onClick:function(){e.push("/login")},children:"sign in"})})]}),Object(g.jsxs)("div",{className:"openPageContent",children:[Object(g.jsx)("div",{className:"openPageContentSubContent",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Connect with people like you and you like ......"}),Object(g.jsx)("p",{style:{color:"gray",marginBottom:"30px"},children:"Enjoy the app with the best features and performance....."}),Object(g.jsxs)(h.a,{variant:"contained",color:"secondary",onClick:function(){e.push("/signup")},children:["Get Started",Object(g.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"10px",fontSize:"20px"}})]})]})}),Object(g.jsx)("img",{src:N,alt:"openPage",className:"openPageContentImage"})]})]})},U=s.p+"static/media/signup.e65db9bf.svg",S=(s(88),s.p+"static/media/signUpLogo.c22926de.svg"),C="atleast 6 characters";var F=Object(b.a)({textField:{marginTop:"20px"},button:{marginTop:"20px"}}),L=function(){var e=Object(d.f)(),t=F(),s=Object(c.useState)(""),a=Object(i.a)(s,2),n=a[0],r=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),b=l[0],p=l[1],x=Object(c.useState)(""),f=Object(i.a)(x,2),v=f[0],N=f[1],y=Object(c.useState)(!1),L=Object(i.a)(y,2),w=L[0],B=L[1],k=Object(c.useState)(C),H=Object(i.a)(k,2),I=H[0],T=H[1],P=Object(c.useState)(!1),E=Object(i.a)(P,2),M=E[0],R=E[1],z=Object(c.useState)(""),A=Object(i.a)(z,2),D=A[0],W=A[1],V=Object(c.useState)(!1),J=Object(i.a)(V,2),q=J[0],K=J[1],X=Object(c.useState)(C),_=Object(i.a)(X,2),G=_[0],Y=_[1];return Object(g.jsxs)("div",{className:"signUpPageContainer",children:[Object(g.jsx)("div",{className:"backArrow",children:Object(g.jsx)(u.b,{to:"/",className:"link",children:Object(g.jsx)("i",{style:{fontSize:"30px",color:"crimson"},className:"fas fa-arrow-circle-left"})})}),Object(g.jsxs)("div",{className:"signUpPageHero",children:[Object(g.jsx)("img",{src:U,alt:"signup"}),Object(g.jsxs)("div",{className:"signUpForm",children:[Object(g.jsx)("img",{src:S,alt:"signuplogo"}),Object(g.jsx)(j.a,{label:"UserName",autoFocus:!0,className:t.textField,value:n,onChange:function(e){return r(e.target.value)},error:w,helperText:I}),Object(g.jsx)(j.a,{label:"Email",className:t.textField,value:b,onChange:function(e){return p(e.target.value)},error:M,helperText:D}),Object(g.jsx)(j.a,{label:"Password",type:"password",value:v,onChange:function(e){return N(e.target.value)},className:t.textField,error:q,helperText:G}),Object(g.jsx)(h.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){B(!1),K(!1),Y(C),R(!1),W(""),T(C),n.length>6?(T(C),O.collection("users").doc(n).get().then((function(t){t.exists?(B(!0),T("already userName exists")):v.length>6?(K(!1),Y(C),m.createUserWithEmailAndPassword(b,v).then((function(t){t.user.updateProfile({displayName:n}),O.collection("users").doc(n).set({email:b,password:v,userName:n,photoUrl:t.user.photoURL,isLoggedIn:!1,lastChatFriend:""}),e.push("/login")})).catch((function(e){R(!0),b.length>6?W("already email exist"):W("please Enter Email")}))):(K(!0),Y("password is less than 6"))}))):(B(!0),T("userName is less than 6 characters"))},children:"SignUp"}),Object(g.jsxs)("p",{children:["If U have Acc?",Object(g.jsx)(u.b,{to:"/login",className:"link",children:"Sign In"})]})]})]})]})},w=(s(89),s(52)),B=s.n(w),k=s(65);s(91);var H=function(e){var t=Object(d.f)(),s=e.navProps,c=m.currentUser.displayName;return Object(g.jsxs)("div",{className:"navBarHero",children:[Object(g.jsxs)("div",{className:"navBarHeroTop",children:[Object(g.jsx)(v,{}),Object(g.jsx)("div",{className:"iconTop",style:{background:s.usersBoolean?"rgb(97, 80, 143)":"transparent"},onClick:function(){s.setUsersBoolean(!0),s.setHelpBoolean(!1),s.setSearchBoolean(!1)},children:Object(g.jsx)("i",{className:"fas fa-users"})}),Object(g.jsx)("div",{className:"iconTop",style:{background:s.searchBoolean?"rgb(97, 80, 143)":"transparent"},onClick:function(){s.setUsersBoolean(!1),s.setHelpBoolean(!1),s.setSearchBoolean(!0)},children:Object(g.jsx)("i",{className:"fas fa-search"})})]}),Object(g.jsxs)("div",{className:"navBarHeroBottom",children:[Object(g.jsx)("div",{className:"iconTop",style:{background:s.helpBoolean?"rgb(97, 80, 143)":"transparent"},onClick:function(){s.setUsersBoolean(!1),s.setHelpBoolean(!0),s.setSearchBoolean(!1)},children:Object(g.jsx)("i",{className:"fas fa-question-circle"})}),Object(g.jsx)("div",{className:"iconTop",onClick:Object(k.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.signOut().then((function(){O.collection("users").doc(c).update({isLoggedIn:!1}),t.push("/")}));case 2:case"end":return e.stop()}}),e)}))),children:Object(g.jsx)("i",{className:"fas fa-sign-out-alt"})})]})]})};s(92);var I=function(e){var t=e.width,s=void 0===t?"30px":t,c=e.height,a=void 0===c?"30px":c,n=e.color,r=void 0===n?"lightgray":n;return Object(g.jsx)("svg",{width:s,height:a,viewBox:"0 0 24 24",children:Object(g.jsx)("path",{fill:r,d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 22c-3.123 0-5.914-1.441-7.749-3.69.259-.588.783-.995 1.867-1.246 2.244-.518 4.459-.981 3.393-2.945-3.155-5.82-.899-9.119 2.489-9.119 3.322 0 5.634 3.177 2.489 9.119-1.035 1.952 1.1 2.416 3.393 2.945 1.082.25 1.61.655 1.871 1.241-1.836 2.253-4.628 3.695-7.753 3.695z"})})};s(93),s(94);var T=function(e){var t=e.userData,s=e.searchToMessage;return Object(g.jsxs)("div",{className:"userDisplayer",children:[Object(g.jsx)("div",{className:"userDisplayerLeft",children:t.photoUrl?Object(g.jsx)("img",{src:t.photoUrl,alt:"user"}):Object(g.jsx)(I,{width:"40px",height:"40px"})}),Object(g.jsxs)("div",{className:"userDisplayerRight",style:{cursor:"pointer"},onClick:function(){return s(t.userName)},children:[Object(g.jsx)("h3",{style:{fontWeight:"300"},children:t.userName}),Object(g.jsx)("p",{children:t.email})]})]})};var P=function(){var e=Object(c.useContext)(W),t=Object(c.useState)([]),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(!1),j=Object(i.a)(u,2),h=j[0],b=j[1],p=Object(c.useState)(!1),x=Object(i.a)(p,2),f=x[0],v=x[1],N=function(t){console.log("cliked left "),O.collection("users").doc(m.currentUser.displayName).update({lastChatFriend:t}).then((function(s){console.log("updated"),e.setUserNameFriend(t)}))};return Object(c.useEffect)((function(){setTimeout((function(){v(!f);var e=new Date;console.log("repeated at ",e.getHours()+"  "+e.getMinutes()+" "+e.getSeconds())}),3e4)}),[f]),Object(c.useLayoutEffect)((function(){var e=[];return O.collection("users").doc(m.currentUser.displayName).collection("friends").onSnapshot((function(t){t.docs.map((function(t){O.collection("users").doc(t.data().userName).get().then((function(t){t.data().isLoggedIn&&t.data().userName!==m.currentUser.displayName&&e.push(t.data())}))}))})),setTimeout((function(){d(e)}),2e3),function(){return d([])}}),[h,f]),Object(c.useLayoutEffect)((function(){m.currentUser.displayName&&O.collection("users").doc(m.currentUser.displayName).collection("friends").onSnapshot((function(e){n(e.docs.map((function(e){return e.data()})))}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"messageLeftProfiler",children:[Object(g.jsx)("div",{children:m.currentUser?m.currentUser.photoURL?Object(g.jsx)("img",{src:m.currentUser.photoURL,style:{width:"90px",height:"90px"}}):Object(g.jsx)(I,{height:"90px",width:"90px"}):null}),Object(g.jsx)("p",{style:{marginTop:"0px",cursor:"pointer"},children:m.currentUser?m.currentUser.displayName:"account"})]}),Object(g.jsxs)("div",{className:"messageLeftOnliner",children:[Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",background:"lightBlue",height:"4vh",alignItems:"center"},children:[Object(g.jsx)("h4",{style:{margin:"0px",marginLeft:"10px"},children:"Online"}),Object(g.jsx)("i",{className:"fas fa-redo",style:{marginRight:"10px",cursor:"pointer"},onClick:function(){return b(!h)}})]}),Object(g.jsx)("div",{className:"messageLeftOnlinerFriends",children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"searchScrollMessageLeftOnlineFriends",children:l.map((function(e,t){return Object(g.jsxs)("div",{style:{width:"10vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[m.currentUser?m.currentUser.photoURL?Object(g.jsx)("img",{src:m.currentUser.photoURL,style:{width:"25px",height:"25px"}}):Object(g.jsx)(I,{height:"25px",width:"25px"}):null,Object(g.jsx)("p",{style:{margin:"0px"},children:e.userName.substring(0,5)+".."})]},t)}))})})})]}),Object(g.jsx)("div",{style:{display:"flex",alignItems:"center",background:"lightBlue"},children:Object(g.jsx)("h3",{style:{marginLeft:"10px",fontWeight:"500",color:"hotpink"},children:"Recent Chats"})}),Object(g.jsx)("div",{className:"messageLeftchatFriends",children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"searchScrollerMessageLeft",children:a.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsx)(T,{userData:e,searchToMessage:N})},t)}))})})})]})},E=(s(95),s(53));var M=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(""),r=Object(i.a)(n,2),o=r[0],l=r[1],d=Object(c.useState)([]),u=Object(i.a)(d,2),j=u[0],h=u[1],b=Object(c.useState)(!1),p=Object(i.a)(b,2),x=p[0],f=p[1],v=Object(c.useContext)(W);return Object(c.useEffect)((function(){console.log("friend is ",v.userNameFriend),m.currentUser&&m.currentUser.displayName&&O.collection("users").doc(m.currentUser.displayName).get().then((function(e){e.data()&&void 0!==e.data().lastChatFriend&&e.data().lastChatFriend.length>0&&O.collection("users").doc(e.data().lastChatFriend).get().then((function(e){a(e.data()),f(!x)}))}))}),[v.userNameFriend]),Object(c.useEffect)((function(){console.log("in mesagemain chat"),O.collection("users").doc(m.currentUser.displayName).collection("friends").doc(s.userName).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){h(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[x],v.userNameFriend),Object(c.useEffect)((function(){O.collection("users").doc(m.currentUser.displayName).collection("friends").doc(s.userName).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){h(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[v.userNameFriend]),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"messageMainHead",children:[Object(g.jsx)("div",{style:{marginLeft:"5px",display:"flex",justifyContent:"center",alignItems:"center",background:"rgb(30, 19, 59)",borderRadius:"30px"},children:s.photoUrl?Object(g.jsx)("img",{src:s.photoUrl,alt:"",style:{height:"25px",width:"25px",borderRadius:"30px"}}):Object(g.jsx)(I,{height:"25px",width:"25px"})}),Object(g.jsx)("h2",{style:{margin:"0px",marginLeft:"15px",fontWeight:"300"},children:s.userName})]}),Object(g.jsxs)("div",{className:"messageMainChatBox",children:[Object(g.jsx)("div",{className:"messageMainChat",children:j.map((function(e){return e.data.userName===m.currentUser.displayName?Object(g.jsx)("div",{className:"messageRightSender",children:Object(g.jsx)("div",{className:"messageRightSenderMessage",children:Object(g.jsx)("div",{children:e.data.message})})},e.id):Object(g.jsx)("div",{className:"messageLeftReciever",children:Object(g.jsx)("div",{className:"messageLeftSenderMessage",children:e.data.message})},e.id)}))}),Object(g.jsxs)("div",{className:"messageMainSender",children:[Object(g.jsx)("input",{type:"string",className:"senderInput",autoFocus:!0,value:o,onChange:function(e){return l(e.target.value)}}),Object(g.jsx)("i",{className:"fas fa-paper-plane",onClick:function(){console.log("message is ",o),o.length>0&&(O.collection("users").doc(m.currentUser.displayName).collection("friends").doc(s.userName).collection("messages").add({message:o,timestamp:E.a.firestore.FieldValue.serverTimestamp(),userName:m.currentUser.displayName}),O.collection("users").doc(s.userName).collection("friends").doc(m.currentUser.displayName).collection("messages").add({message:o,timestamp:E.a.firestore.FieldValue.serverTimestamp(),userName:m.currentUser.displayName})),l("")}})]})]})]})})};s(96);var R=function(){var e=Object(c.useContext)(W),t=Object(c.useState)([]),s=Object(i.a)(t,2),a=s[0],n=s[1];return Object(c.useEffect)((function(){console.log("friend is ",e.userNameFriend),m.currentUser&&m.currentUser.displayName&&O.collection("users").doc(m.currentUser.displayName).get().then((function(e){e.data()&&e.data().lastChatFriend.length>0&&O.collection("users").doc(e.data().lastChatFriend).get().then((function(e){n(e.data())}))}))}),[e.userNameFriend]),Object(g.jsxs)("div",{className:"messageRightHero",children:[Object(g.jsxs)("div",{className:"messageRightProfile",children:[Object(g.jsx)("div",{children:a.photoUrl?Object(g.jsx)("img",{src:a.photoUrl,style:{height:"90px",width:"90px",borderRadius:"90px"}}):Object(g.jsx)(I,{height:"90px",width:"90px"})}),Object(g.jsx)("h3",{style:{marginTop:"0px",color:"white",fontWeight:"300"},children:a.userName})]}),Object(g.jsx)("div",{className:"messageRightSharedMedia",children:Object(g.jsx)("h3",{style:{color:"lightBlue",fontWeight:"300",marginLeft:"10px"},children:"Shared Media"})}),Object(g.jsx)("div",{className:"messageRightSharedLinks",children:Object(g.jsx)("h3",{style:{color:"lightBlue",fontWeight:"300",marginLeft:"10px"},children:"Shared Links"})})]})};var z=function(){return Object(c.useEffect)((function(){return function(){window.addEventListener("beforeunload",(function(e){O.collection("users").doc(m.currentUser.displayName).update({isLoggedIn:!1}).then((function(e){return console.log("sucess false")})).catch((function(e){return console.log("not false")}))}))}}),[]),Object(c.useContext)(W),Object(g.jsx)(g.Fragment,{children:m.currentUser?Object(g.jsxs)("div",{className:"messageHero",children:[Object(g.jsx)("div",{className:"messageHeroLeft",children:Object(g.jsx)(P,{})}),Object(g.jsx)("div",{className:"messageHeroMain",children:Object(g.jsx)(M,{})}),Object(g.jsx)("div",{className:"messageHeroRight",children:Object(g.jsx)(R,{})})]}):Object(g.jsx)("div",{})})};s(97);var A=function(e){var t=Object(c.useContext)(W),s=Object(c.useState)(""),a=Object(i.a)(s,2),n=a[0],r=a[1],o=Object(c.useState)([]),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)([]),h=Object(i.a)(j,2),b=h[0],p=h[1],x=e.searchProps,f=function(e){t.setUserNameFriend(e),x.setUsersBoolean(!0),x.setSearchBoolean(!1),x.setHelpBoolean(!1),O.collection("users").doc(m.currentUser.displayName).update({lastChatFriend:e}),O.collection("users").doc(m.currentUser.displayName).collection("friends").doc(e).set({userName:e})};return Object(c.useEffect)((function(){return O.collection("users").doc(m.currentUser.displayName).collection("friends").onSnapshot((function(e){p(e.docs.map((function(e){return e.data()})))}))}),[]),Object(g.jsxs)("div",{className:"searchHero",children:[Object(g.jsx)("div",{className:"searchContainer",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{style:{fontWeight:"300"},children:"Search for Friends"}),Object(g.jsx)("input",{type:"text",className:"inputSearch",value:n,onChange:function(e){r(e.target.value),m.currentUser&&m.currentUser.displayName&&(e.target.value.length>0?O.collection("users").orderBy("userName").startAt(e.target.value).endAt(e.target.value+"\uf8ff").onSnapshot((function(e){u(e.docs.map((function(e){return e.data()})))})):u([]))},autoFocus:!0}),Object(g.jsx)("div",{className:"searchScroller",children:d.map((function(e,t){if(e.userName!==m.currentUser.displayName)return Object(g.jsx)("div",{children:Object(g.jsx)(T,{userData:e,searchToMessage:f})},t)}))})]})}),Object(g.jsx)("div",{className:"searchFriendsContainer",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{style:{fontWeight:"300"},children:"Your Friends"}),Object(g.jsx)("input",{type:"text",className:"inputSearch"}),Object(g.jsx)("div",{className:"searchScrollerRight",children:b.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsx)(T,{userData:e,searchToMessage:f})},t)}))})]})})]})};var D=function(){return Object(g.jsxs)("div",{style:{paddingLeft:"20px"},children:[Object(g.jsx)("h1",{children:"Help"}),Object(g.jsx)("h3",{style:{fontWeight:"200"},children:"I think so , you Fucked Up .Follow the Steps"})]})},W=Object(c.createContext)(null);var V=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!0),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useState)(!1),j=Object(i.a)(u,2),h=j[0],b=j[1],p=Object(c.useState)(!1),x=Object(i.a)(p,2),f=x[0],v={usersBoolean:o,setUsersBoolean:l,searchBoolean:h,setSearchBoolean:b,helpBoolean:f,setHelpBoolean:x[1]},N={userNameFriend:s,setUserNameFriend:a},y=Object(d.f)();return Object(c.useEffect)((function(){m.currentUser&&m.currentUser.displayName&&(O.collection("users").doc(m.currentUser.displayName).update({isLoggedIn:!0}).then((function(e){return console.log("logged in")})),O.collection("users").doc(m.currentUser.displayName).update({isLoggedIn:!0}))}),[]),Object(c.useEffect)((function(){m.currentUser&&m.currentUser.displayName&&O.collection("users").doc(m.currentUser.displayName).get().then((function(e){a(e.data().lastChatFriend)}))}),[]),Object(c.useEffect)((function(){return function(){window.addEventListener("beforeunload",(function(e){O.collection("users").doc(m.currentUser.displayName).update({isLoggedIn:!1}).then((function(e){return console.log("sucess false")})).catch((function(e){return console.log("not false")}))}))}}),[]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(W.Provider,{value:N,children:m.currentUser?Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(H,{navProps:v}),o?Object(g.jsx)(z,{}):h?Object(g.jsx)(A,{searchProps:v}):f?Object(g.jsx)(D,{}):null]}):y.push("/")})})};var J=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(u.a,{children:Object(g.jsxs)(d.c,{children:[Object(g.jsx)(d.a,{path:"/",exact:!0,component:y}),Object(g.jsx)(d.a,{path:"/login",component:f}),Object(g.jsx)(d.a,{path:"/signup",component:L}),Object(g.jsx)(d.a,{path:"/home",component:V})]})})})},q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,133)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),c(e),a(e),n(e),r(e)}))};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root")),q()}},[[98,1,2]]]);
//# sourceMappingURL=main.9789da0c.chunk.js.map